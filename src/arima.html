<!doctype html>
<html lang="en">

    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Bohao Chu, and Bootstrap contributors">
    <title>Demand Forecast | Bohao Chu</title>
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom style sheet -->
    <link type="text/css" rel="stylesheet" href="assets/css/style.css"/>

    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:700%7CNunito:300,600" rel="stylesheet">

    <!--Title Icon-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    </head>


    <body>

        <header class="fixed-top header"></header>

		<main>
			<div class="section px-0">
				<div id="post-header" class="page-header pt-5" style="background-image: url('assets/img/arima/bg.png'); background-color:#000;background-position-x: 90%;">
					<div class="container">
						<div class="row">
							<div class="col-md-10 col-sm-11 post-meta">
								<a class="post-category cat-2" href="#">Machine Learning</a>
								<span class="post-date">Oct, 2022 </span>
								<br><br>
								<h1>Supply Chain Demand Forecast</h1>
								<h3 class="text-light pt-3">
									Fusion ARIMA-LSTM model for supply chain demand forecasting
								</h3>
								<p>
									<span class="text-light">Bohao Chu, Yichen Wang, and Mandar Jawale</span>
								</p>
								<button type="button" class="btn btn-light btn-lg btn-circle me-3">
                                    <span class="fa fa-file-pdf-o"></span>
                                </button>
								<button type="button" class="btn btn-light btn-lg btn-circle">
                                    <span class="fa fa-graduation-cap"></span>
                                </button>

							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="section px-0">
				<!-- container -->
				<div class="container">
					<!-- row -->
					<div class="row">
						<!-- POST MAIN -->
						<div class="col-md-8">

							<h3>INTRODUCTION</h3>

							<div class="section-row">
								<figure class="figure-img text-center">
									<img class="img-responsive" src="assets/img/arima/result.png" alt="" width="100%">
								</figure>
							</div>
							<p class="px-3 text-center">
								<small><strong>Figure 1.</strong> Version 2-based system experiments.</small>
							</p>
							<h4>
								BACKGROUND
							</h4>
							<p>
								As the source of demand that drives the supply system of an enterprise, forecasting the demand for goods at upstream and downstream nodes is the basis for all members of the supply chain to make business decisions such as ordering strategies, inventory management, and distribution planning. With the rapid development of the Internet economy and the further integration of industry and the Internet, customers' purchasing behavior has become more strategic, which makes the uncertainty of demand increase and greatly increases the difficulty of predicting customer demand. At the same time, the agility of the supply chain of enterprises has also raised higher requirements. Therefore, how to achieve a more accurate prediction of customer purchases is of great practical significance for the rational formulation of supply chain operations and management strategies.
							</p>

							<h4>
								MOTIVATION & GOALS
							</h4>
							<p>
								Specifically, this work uses a hybrid ARIMA-LSTM model to forecast the demand for popular commodity types on a real dataset. The results are compared experimentally with SARIMA, and LSTM models respectively. In this process, a detailed visual analysis of the used dataset is presented, and the whole process from data processing to experimental validation analysis is described in detail. The research on supply chain uncertainty factors is also supplemented with a study of the types and sources of market factors that need to be considered in supply chain demand forecasting from different perspectives, the many problems found in the process of supply chain demand forecasting, and the methods of prevention.
							</p>

							<div class="row">
								<h3 class="mt-4">METHOD</h3>
								<div class="row text-center">
									<figure class="figure-img p-0 m-0 text-center">
										<img class="img-responsive" src="assets/img/arima/fusion model.png" alt="" width="100%">
									</figure>
								</div>
								<p class="px-3 text-center">
									<small><strong>Figure 2.</strong> ARIMA-LSTM Model Structure.</small>
								</p>

								<p>
									This work creates a fusion model based on ARIMA model and LSTM model with better performance on time series data. The data used came from the kaggle competition topic Predict Future Sales, specifically using four of the datasets named sales_train.csv, items.csv, items_categories.csv and shops.csv.
								</p>

								<h4>
									Data Preprocessing
								</h4>
								<p>
									Firstly, the fields of the sample data table are introduced to have a preliminary understanding of the data volume and fields of the data table; secondly, the data are subjected to exploratory data analysis, which is a data analysis method to explore the structure and laws of the data by means of statistics, graphing and tabulation, etc. It can dig into the hidden relationship information contained in the data and find out the abnormal values, missing values and other abnormalities of the data.
								</p>
								
								<p>
									In practical engineering cases, time series reflects the patterns, anomalies and trends of data changes over time. The single time series itself is time-sensitive, and the data format and value standard have great changes. In addition, there are also missing, abnormal and inconsistent situations, which in turn affect the accuracy of the prediction results and the accuracy of the model. Therefore, it is very important to scientifically preprocess time series data before performing time series analysis. The main tool used for data import, analysis and processing in this section is pandas, which is a Numpy-based toolkit in python. The library contains a large number of standard data models, which can efficiently process and analyze big data, and pandas The DataFrame is a two-dimensional table data structure that conforms to the structure of the dataset in this paper. For data visualization, the visualization libraries matplotlib and seaborn in Python are mainly used for data graphics.
								</p>
								<h4>
									Feature Expanding and Merging
								</h4>
								
								<p>
									Since most of the variables we have in the actual business have no actual meaning and are not suitable for direct modeling, such variables often have strong information value after doing certain transformations or combinations, which can be helpful for data sensitivity and machine learning. By observing the source dataset, we can find that the shop_name in shops.csv is composed of city name plus store type, so we can get the new feature city_name by splitting the store name, but since the city name is composed of complex text, it is not suitable for machine learning, here use LabelEncoder() to encode the feature as city\_code. Finally, all the data sets are merged and the new dataset is stored as daily\_data.csv, which contains the data attributes as shown in the following table.
								</p>
								<div class="row text-center">
									<figure class="figure-img p-0 m-0 text-center">
										<img class="img-responsive" src="assets/img/arima/dataset1.PNG" alt="" width="100%">
									</figure>
								</div>
								<p class="px-3 text-center">
									<small><strong>Figure 2.</strong> daily data.csv Property List.</small>
								</p>
								<h4>Missing Value Handling</h4>
								<p>
									We fill the [item_cnt_day] and [item_price] columns with the average value of sales and the average value of price for the month of the missing date, respectively, and select the data in the column above the missing value for the other features. However, due to a large amount of missing data for November 2015, the data for that month will not be used in the actual case. After the missing values are added, the data of ID40 and ID30 are aggregated according to the item category ID and date, where item_price is aggregated by average value, item_cnt_day is aggregated by total value, and the remaining feature values are aggregated by the plural.
								</p>

								<h4>
									Outliers Handling
								</h4>
								<p>
									Outliers refer to sample points where some values in the sample deviate significantly from the rest, so they are also called outliers, often such data points exhibit unreasonable properties in the dataset. If these outliers are ignored, it will lead to deviations in the conclusions in some modeling scenarios, so in the process of data exploration, it is necessary to identify these outliers and deal with them properly.
								</p>
								<div class="row text-center p-0 m-0 ">
									<figure class="figure-img text-center col-6">
										<img class="img-responsive" src="assets/img/arima/ID40_sales_outlier.png" alt="" width="100%">
									</figure>
									<figure class="figure-img p-0 m-0 text-center col-6">
										<img class="img-responsive" src="assets/img/arima/ID40_item_price.png" alt="" width="100%">
									</figure>
								</div>
								<p class="px-3 text-center">
									<small><strong>Figure 2.</strong> Outliers by ID40 Sales Volume and Item Price.</small>
								</p>
								<h4>ARIMA-LSTM Model Desgin</h4>
								<p>
									Many time series models contain both linear and nonlinear relationships. While ARIMA and SARIM models are good at modeling linear relationships in time series, they are inadequate for modeling nonlinear relationships. The LSTM model can model both linear and nonlinear relationships, but cannot provide the same results for every data set. Therefore, in order to obtain the best prediction results, hybrid models based on modeling the linear and nonlinear components of the time series separately were used. These models have achieved better results in predicting time series analysis. The use of multiple learning algorithms results in better estimation performance compared to constructive learning algorithms. These hybrid models are based on supervised machine learning algorithms, so they can be used for both training and forecasting purposes. In addition, hybrid models increase model diversity and can achieve better prediction results.
								</p>
								<p>
									The results obtained by using the hybrid model and those obtained by using the model alone, even if they are not correlated with each other, can be observed to reduce the general variance or error. Therefore, mixed models are considered to be the most successful models for prediction tasks. To make predictions, a number of hybrid models consisting of linear and nonlinear models have been used by different researchers. In this paper, by using historical data from time series for future forecasting, the linear fitting capability of ARIMA is first used to learn the fit for the linear features of the sales data of the commodity type, and the error series is calculated based on the predicted values obtained from the ARIMA model, followed by the estimation of the obtained error series and the original series with the features through the LSTM model to obtain the final results. The non-linear fitting ability of the LSTM model to the sequences is used to make a small correction to the prediction results of the ARIMA model. The flowchart of the method is shown in Figure 5.4.
								</p>
							</div>

							<div class="row">
								<h3 class="mt-4">KEYWORDS</h3>
								<p class="text-dark">
									<strong>
										Demand Forecasting, Time Series Forecasting, Machine Learning, ARIMA, SARIMA, LSTM.
									</strong>
								</p>
							</div>
						</div>

						<!-- POST ASIDE -->
						<div class="col-md-4">
							<div class="row mb-5">
								<h3 class="mt-4">MATERIALS</h3>
								<h4>EVALUATION & COMPARISION</h4>
								<p>
									We evaluated the SARIMA model, the LSTM model, and the SARIMA-LSTM fusion model in turn (below, from top to bottom), and the results show that the fusion model performs better, (see right side for specific parameters).
								</p>
								<p>
									Although the hybrid model proposed in this paper has improved in accuracy compared with SARIMA and LSTM, the improvement is relatively small and there are still some limitations in demand forecasting, so we can consider increasing the complexity of the model for forecasting analysis in the future.
								</p>
								<p>
									The current demand forecasting algorithm can only accomplish short-term forecasting with a small time scale. Therefore, the next step will be to consider a deeper exploration using other machine learning models and increasing the feature dimensionality.
								</p>

								<figure class="figure-img text-center">
									<img class="img-responsive" src="assets/img/arima/ID40_SARIMA_predictions.png" alt="" width="100%">
								</figure>
								<p class="px-3 text-center">
									<small><strong>Figure 2.</strong> Comparison of the three model predictions.</small>
								</p>
								<figure class="figure-img text-center">
									<img class="img-responsive" src="assets/img/arima/ID40_LSTM.png" alt="" width="100%">
								</figure>
								<p class="px-3 text-center">
									<small><strong>Figure 2.</strong> Comparison of the three model predictions.</small>
								</p>
								<figure class="figure-img text-center">
									<img class="img-responsive" src="assets/img/arima/ID40_fusion.png" alt="" width="100%">
								</figure>
								<p class="px-3 text-center">
									<small><strong>Figure 2.</strong> Comparison of the three model predictions.</small>
								</p>

								<h4>
									DATASET
								</h4>

								<p>
									This paper uses data from the Kaggle competition Predict Future Sales, using four datasets named sales_train.csv, items.csv, items_categories.csv and shops.csv, sales_train.csv contains daily historical data from January 2013 to October 2015, items.csv contains additional information about items, items_categories.csv contains additional information about item categories, shops.csv contains additional information about shops. 
								</p>
		
								<figure class="figure-img text-center">
									<img class="img-responsive" src="assets/img/arima/dataset.PNG" alt="" width="100%">
								</figure>
	
								<p class="px-3 text-center">
									<small><strong>Figure 2.</strong> Dataset Property List.</small>
								</p>
								<p>
									The shape of sales_train.csv has 6 columns and 2935849 rows. items.csv has 3 columns and 22170 rows. items_categories.csv contains 2 columns and 84 rows. shops.csv has 2 columns and 60 rows. The shape of each dataset shows that there are 22,170 different items which can be grouped into 84 categories, and 60 shops counted in the dataset. The table below shows the column names contained in each of the four datasets.
								</p>

								<figure class="figure-img text-center">
									<img class="img-responsive" src="assets/img/arima/dataset2.PNG" alt="" width="100%">
								</figure>

								<p class="px-3 text-center">
									<small><strong>Figure 2.</strong> Dataset Property List.</small>
								</p>

								<p>
									Since the main purpose of this paper is to forecast the sales of hot item categories, it is necessary to have an understanding of the popularity of the item categories before pre-processing the data. As shown in Figure 6.2, the sales of different item categories are aggregated, and it can be seen that the item category with item_category_id of 40 has the highest sales, followed by the item with item_category_id of 30. For the sake of brevity, ID40 and ID30 will be used directly in subsequent papers to refer to the item categories for which sales forecasts are to be made. 
								</p>

								<figure class="figure-img text-center">
									<img class="img-responsive" src="assets/img/arima/top_categories.png" alt="" width="100%">
								</figure>
								<p class="px-3 text-center">
									<small><strong>Figure 2.</strong> op Item Categories Sales.</small>
								</p>


							</div>
S


						</div>
						<!-- /aside -->
					</div>
					<!-- /row -->
				</div>
				<!-- /container -->
			</div>
			<!-- /section -->
		</main>


        <footer class="section bg-secondary mt-5 footer"></footer>
        <script src="assets/js/bootstrap.bundle.min.js"></script>
        <script>
            addEventListener("DOMContentLoaded", function() {
                $(".header").load("components/header.html",function(){});
                $(".footer").load("components/footer.html",function(){});
            });
        </script>

    </body>
</html>
